<template>
  <v-container>
    <v-card class="pa-8" rounded="xl" elevation="3">
      <div class="pb-10">
        <v-chip size="x-large" variant="elevated" color="#B3DEE8">
          <span class="text-h6 pa-8">Report </span>
        </v-chip>
      </div>

      <v-row>
        <v-col cols="12" md="6">
          <v-chip size="x-large" color="#F4F4F4" variant="flat">
            <span style="color: #2ab6ea"
              >https://www.google.com/search?sca_esv=771bbf3a918ca038&rlz=1C1GCEU_enTH1052TH1052&sxsrf=AHTn8zoMhLn_dJAx7S63mjIRCP2GOT8sGw:1739790696840&q=alert+logout&udm=2&fbs=ABzOT_BDkSQnUJ_n4RkbqNHSL_3MauB80LccjDb_nfkZuiDehY6pjwZN5a3lEION-entq9T5AHFX6sbce0MKHlMovqCWrDNikxD6UrwskZYkMGKdLpBG81gbc8euLZ44eGC6Ti4rYODeHwHgJH4BLg6XGgk6jDpqt3XNYXgwq4oLDMV13xcc087l23qs4-EZ_7hRUk36ipctL7UK8s61CJp__lvLjG7OBN0hv84Rd7eSl4MhcHZk9mpzKoRFYf-Je-kdBeY5WX_6yrrO647MyZrohxagje-DcBjEVPsFKWxfEdopOfx3P08&sa=X&ved=2ahUKEwjPxd-zycqLAxWLs1YBHcBWDNgQtKgLegQIEhAB&biw=1920&bih=911&dpr=1</span
            >
          </v-chip>
        </v-col>
        <v-col cols="12" md="6">
          <v-chip size="x-large" color="#F4F4F4" variant="flat">
            <span style="color: #2ab6ea"
              >https://www.google.com/search?sca_esv=771bbf3a918ca038&rlz=1C1GCEU_enTH1052TH1052&sxsrf=AHTn8zoMhLn_dJAx7S63mjIRCP2GOT8sGw:1739790696840&q=alert+logout&udm=2&fbs=ABzOT_BDkSQnUJ_n4RkbqNHSL_3MauB80LccjDb_nfkZuiDehY6pjwZN5a3lEION-entq9T5AHFX6sbce0MKHlMovqCWrDNikxD6UrwskZYkMGKdLpBG81gbc8euLZ44eGC6Ti4rYODeHwHgJH4BLg6XGgk6jDpqt3XNYXgwq4oLDMV13xcc087l23qs4-EZ_7hRUk36ipctL7UK8s61CJp__lvLjG7OBN0hv84Rd7eSl4MhcHZk9mpzKoRFYf-Je-kdBeY5WX_6yrrO647MyZrohxagje-DcBjEVPsFKWxfEdopOfx3P08&sa=X&ved=2ahUKEwjPxd-zycqLAxWLs1YBHcBWDNgQtKgLegQIEhAB&biw=1920&bih=911&dpr=1</span
            >
          </v-chip>
        </v-col>
      </v-row>
      <v-row>
        <v-col cols="12" md="6">
          <v-chip size="x-large" color="#F4F4F4" variant="flat">
            <span style="color: #2ab6ea"
              >https://www.google.com/search?sca_esv=771bbf3a918ca038&rlz=1C1GCEU_enTH1052TH1052&sxsrf=AHTn8zoMhLn_dJAx7S63mjIRCP2GOT8sGw:1739790696840&q=alert+logout&udm=2&fbs=ABzOT_BDkSQnUJ_n4RkbqNHSL_3MauB80LccjDb_nfkZuiDehY6pjwZN5a3lEION-entq9T5AHFX6sbce0MKHlMovqCWrDNikxD6UrwskZYkMGKdLpBG81gbc8euLZ44eGC6Ti4rYODeHwHgJH4BLg6XGgk6jDpqt3XNYXgwq4oLDMV13xcc087l23qs4-EZ_7hRUk36ipctL7UK8s61CJp__lvLjG7OBN0hv84Rd7eSl4MhcHZk9mpzKoRFYf-Je-kdBeY5WX_6yrrO647MyZrohxagje-DcBjEVPsFKWxfEdopOfx3P08&sa=X&ved=2ahUKEwjPxd-zycqLAxWLs1YBHcBWDNgQtKgLegQIEhAB&biw=1920&bih=911&dpr=1</span
            >
          </v-chip>
        </v-col>
        <v-col cols="12" md="6">
          <v-chip size="x-large" color="#F4F4F4" variant="flat">
            <span style="color: #2ab6ea"
              >https://www.google.com/search?sca_esv=771bbf3a918ca038&rlz=1C1GCEU_enTH1052TH1052&sxsrf=AHTn8zoMhLn_dJAx7S63mjIRCP2GOT8sGw:1739790696840&q=alert+logout&udm=2&fbs=ABzOT_BDkSQnUJ_n4RkbqNHSL_3MauB80LccjDb_nfkZuiDehY6pjwZN5a3lEION-entq9T5AHFX6sbce0MKHlMovqCWrDNikxD6UrwskZYkMGKdLpBG81gbc8euLZ44eGC6Ti4rYODeHwHgJH4BLg6XGgk6jDpqt3XNYXgwq4oLDMV13xcc087l23qs4-EZ_7hRUk36ipctL7UK8s61CJp__lvLjG7OBN0hv84Rd7eSl4MhcHZk9mpzKoRFYf-Je-kdBeY5WX_6yrrO647MyZrohxagje-DcBjEVPsFKWxfEdopOfx3P08&sa=X&ved=2ahUKEwjPxd-zycqLAxWLs1YBHcBWDNgQtKgLegQIEhAB&biw=1920&bih=911&dpr=1</span
            >
          </v-chip>
        </v-col>
      </v-row>
    </v-card>
    <div class="pt-5 pb-3"><span class="text-h5">ผลปฏิบัติการ</span></div>

    <v-divider class="border-opacity-75 dashed-divider"></v-divider>

    <v-row>
      <v-col cols="12" md="3">
        <div class="pt-8 pb-3">
          <span class="text-h6">จำนวนบัญชีเป้าหมายที่ดำเนินการ</span>
        </div>
        <v-card class="pa-4" rounded="xl" elevation="3">
          <div class="pt-1 pb-1">
            <span class="text-h6">จำนวนชป.ไซเบอร์/คน</span>
            <v-number-input
              density="compact"
              v-model="NumPeople"
              :min="0"
              control-variant="split"
              inset
              variant="solo"
            ></v-number-input>
          </div>
          <div class="pt-2 pb-1">
            <span class="text-h6">จำนวนบัญชี(Report)</span>
            <v-number-input
              density="compact"
              v-model="NumImport"
              :min="0"
              control-variant="split"
              inset
              variant="solo"
            ></v-number-input>
          </div>
          <div class="pt-2 pb-1">
            <span class="text-h6">จำนวนบัญชีเป้าหมาย</span>
            <v-number-input
              density="compact"
              v-model="NumTarget"
              :min="0"
              control-variant="split"
              inset
              variant="solo"
            ></v-number-input>
          </div>
        </v-card>
      </v-col>
      <v-col cols="12" md="9">
        <div class="pt-8 pb-3">
          <span class="text-h6">จำนวน Social Bot</span>
        </div>

        <v-card class="pa-6" rounded="xl" elevation="3">
          <v-row>
            <v-col cols="12" md="3" v-for="item in platforms" :key="item.id">
              <v-card class="pa-4" rounded="xl">
                <div style="align-items: center">
                  <div>
                    <v-avatar size="35" rounded="0">
                      <v-img :src="item.icon" alt="icon"></v-img>
                    </v-avatar>
                    <span style="margin-left: 10px" class="text-h6">{{
                      item.name
                    }}</span>
                  </div>
                  <div class="pt-2">
                    <v-number-input
                      density="compact"
                      v-model="item.value"
                      control-variant="split"
                      :min="0"
                      inset
                      variant="solo"
                      style="margin-left: auto"
                    ></v-number-input>
                  </div>
                </div>
              </v-card>
            </v-col>
          </v-row>
        </v-card>
      </v-col>
    </v-row>

    <v-row v-if="status != 'PP'" class="justify-end pt-16">
      <div class="px-3">
        <v-btn
          variant="outlined"
          style="background-color: #faf1cd"
          size="large"
          rounded="lg"
          @click="addCard"
          class="custom-btn"
        >
          <span class="text-h6 custom-btn">บันทึกร่าง</span>
        </v-btn>
      </div>
      <div class="px-3">
        <v-btn
          variant="outlined"
          size="large"
          rounded="lg"
          @click="addCard"
          class="custom-btn"
        >
          <span class="text-h6 custom-btn">บันทึก</span>
        </v-btn>
      </div>
    </v-row>
  </v-container>
</template>

<script setup>
  import { ref } from "vue";
  import { useRoute } from "vue-router";

  const route = useRoute();

  // รับ title จาก query
  const title = route.query.title;
  const status = route.query.status;
  const { getTeamColor, getMissionColor, getMissionName } = useColors();
  const formRef = ref(null);
  const valid = ref(false);
  const NumImport = ref(0);
  const NumPeople = ref(0);
  const NumTarget = ref(0);

  const platforms = ref([
    { name: "Facebook", icon: "/cfb.png", value: 0 },
    { name: "X", icon: "/ctw.png", value: 0 },
    { name: "Instagram", icon: "/cig.png", value: 0 },
    { name: "TikTok", icon: "/tt.png", value: 0 },
    { name: "YouTube", icon: "/cyt.png", value: 0 },
  ]);

  const formData = ref({
    name: "",
    details: "",
    image: null,
  });

  const DescriptionMessage = ref(""); // ตัวแปรที่เก็บค่าจาก v-text-field
  const MainDescriptionMessage = ref(""); // ตัวแปรที่เก็บค่าจาก v-text-field
  const IssueMessage = ref(""); // ตัวแปรที่เก็บค่าจาก v-text-field
  const NameMessage = ref(""); // ตัวแปรที่เก็บค่าจาก v-text-field

  const team = ref([
    "Team C",
    "Team D",
    "Team E",
    "Team F",
    "Team G",

    // เพิ่มตัวเลือกอื่น ๆ ที่ต้องการ
  ]);

  const selectedTeam = ref(null);

  // const missions = ref([
  //   "Mission R",
  //   "Mission M1",
  //   "Mission M2",
  //   "Mission M3",
  //   "Mission M4",
  //   "Mission M5",
  //   "Mission M6",
  //   "Mission M7",
  //   "Mission M8",
  //   // เพิ่มตัวเลือกอื่น ๆ ที่ต้องการ
  // ]);

  const selectedMission = ref("M1");

  // ฟังก์ชันเพิ่มข้อความ
  const addMessage = () => {
    if (newMessage.value.trim()) {
      formData.value.messages.push(newMessage.value.trim());
      newMessage.value = ""; // ล้างข้อความในช่อง
    }
  };

  // ฟังก์ชันลบข้อความ
  const removeMessage = (index) => {
    formData.value.messages.splice(index, 1);
  };

  const rules = {
    required: (value) => !!value || "จำเป็นต้องกรอกข้อมูล",
  };

  const submitForm = () => {
    console.log("Form submitted with mission:", selectedMission.value);
    selectedMission.value = null; // รีเซ็ต selectedMission เป็น null
  };
</script>
<style scoped>
  .v-divider {
        height: 1000px; /* กำหนดความสูงที่ต้องการ */
      }
      
      .custom-divider {
        margin-left: 30px; /* กำหนดมาร์จินซ้าย */
        margin-right: 30px; /* กำหนดมาร์จินซ้าย */
        max-width: 100%;
      
      }

      .custom-btn:hover{
    background-color: #202B3E !important; /* สีพื้นหลังเมื่อเมาส์อยู่เหนือปุ่ม */
    color: white !important;
}
</style>
